{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\hp\\\\Downloads\\\\Online Fashion Store\\\\Online Fashion Store\\\\online_fashion_store_angular\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\hp\\\\Downloads\\\\Online Fashion Store\\\\Online Fashion Store\\\\online_fashion_store_angular\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { TokenStorageService } from '../../services/token-storage.service';\nimport { PaymentService } from \"./services/payment.service\";\nimport { DatePipe } from '@angular/common';\nimport { SellService } from \"src/app/sell/services/sell.service\";\nimport { OrdersService } from \"src/app/orders/services/orders.service\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/token-storage.service\";\nimport * as i2 from \"src/app/orders/services/orders.service\";\nimport * as i3 from \"./services/payment.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"src/app/sell/services/sell.service\";\nimport * as i7 from \"../frontend-header/frontend-header.component\";\nimport * as i8 from \"@angular/forms\";\nimport * as i9 from \"../frontend-footer/frontend-footer.component\";\nexport var PaymentComponent = /*#__PURE__*/(function () {\n  var PaymentComponent = /*#__PURE__*/function () {\n    function PaymentComponent(tokenStorageService, orderService, paymentService, route, router, datePipe, sellService) {\n      _classCallCheck(this, PaymentComponent);\n\n      this.tokenStorageService = tokenStorageService;\n      this.orderService = orderService;\n      this.paymentService = paymentService;\n      this.route = route;\n      this.router = router;\n      this.datePipe = datePipe;\n      this.sellService = sellService;\n      this.orderForm = {};\n      this.user_level_id = window.sessionStorage.user_level_id;\n      this.user_id = window.sessionStorage.user_id;\n      this.order_id = window.sessionStorage.order_id;\n      this.submitted = false;\n      this.isUpdate = false;\n      this.msg = \"\";\n      this.type = \"danger\";\n      this.payment_id = \"save\";\n      this.totalCost = 0;\n      this.readonly = false;\n      this.user = this.tokenStorageService.getUser();\n      this.registrationMessage = \"\";\n    }\n\n    _createClass(PaymentComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        this.getTotalAmount();\n      }\n    }, {\n      key: \"getTotalAmount\",\n      value: function getTotalAmount() {\n        var _this = this;\n\n        this.sellService.getSellList(this.order_id).subscribe(function (data) {\n          data.forEach(function (element) {\n            _this.totalCost += Number(element.sell_total_cost);\n          });\n        }, function (error) {\n          return console.log(error);\n        });\n      }\n    }, {\n      key: \"save\",\n      value: function save() {\n        var _this2 = this;\n\n        var myDate = new Date();\n        var todayDate = this.datePipe.transform(myDate, 'dd MMM yyyy hh:mm a');\n        this.orderForm.order_total = this.totalCost;\n        this.orderForm.order_customer_id = this.user_id;\n        this.orderForm.order_status = \"Paid\";\n        this.orderForm.order_id = this.order_id;\n        this.orderForm.order_date = todayDate;\n        this.orderService.updateOrders(this.order_id, this.orderForm).subscribe(function (data) {\n          console.log(\"Order ID : \");\n          console.log(data);\n\n          _this2.router.navigate(['/order-items/' + _this2.order_id]);\n\n          _this2.order_id = \"\";\n          window.sessionStorage.order_id = \"\";\n        }, function (err) {// this.errorMessage = err.error.message;\n          // this.isSignUpFailed = true;\n        });\n      }\n    }, {\n      key: \"onSubmit\",\n      value: function onSubmit() {\n        this.save();\n      }\n    }]);\n\n    return PaymentComponent;\n  }();\n\n  PaymentComponent.ɵfac = function PaymentComponent_Factory(t) {\n    return new (t || PaymentComponent)(i0.ɵɵdirectiveInject(i1.TokenStorageService), i0.ɵɵdirectiveInject(i2.OrdersService), i0.ɵɵdirectiveInject(i3.PaymentService), i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i5.DatePipe), i0.ɵɵdirectiveInject(i6.SellService));\n  };\n\n  PaymentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PaymentComponent,\n    selectors: [[\"app-payment\"]],\n    inputs: {\n      orderForm: \"orderForm\"\n    },\n    features: [i0.ɵɵProvidersFeature([DatePipe])],\n    decls: 100,\n    vars: 1,\n    consts: [[1, \"service_area\"], [1, \"container\"], [1, \"col-md-12\"], [1, \"row\"], [1, \"card\"], [1, \"frontend_h1\"], [\"ngNativeValidate\", \"\", \"action\", \"#\", \"id\", \"commentForm\", 1, \"form-contact\", \"comment_form\", 3, \"ngSubmit\"], [1, \"card-content\"], [1, \"table-responsive\"], [\"id\", \"login-home\", 2, \"width\", \"50%\", \"float\", \"left\", \"margin-right\", \"30px\"], [2, \"width\", \"100%\", \"font-size\", \"12px\"], [2, \"padding\", \"10px\", \"margin\", \"10px\", \"height\", \"40px\"], [2, \"width\", \"30%\"], [2, \"width\", \"70%\", \"text-align\", \"left\"], [\"type\", \"text\", \"placeholder\", \"Enter Your Card Number\", \"name\", \"card_number\", 1, \"form-control\"], [\"type\", \"text\", \"placeholder\", \"Enter Your Name on Card\", \"name\", \"card_name\", 1, \"form-control\"], [2, \"height\", \"35px\", \"width\", \"98%\"], [\"value\", \"\"], [\"value\", \"master\"], [\"value\", \"visa\"], [\"value\", \"amex\"], [\"value\", \"diner\"], [\"value\", \"rupay\"], [2, \"height\", \"35px\", \"width\", \"150px\"], [\"value\", \"2021\"], [\"value\", \"2022\"], [\"value\", \"2023\"], [\"value\", \"2024\"], [\"value\", \"20025\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"value\", \"3\"], [\"value\", \"4\"], [\"value\", \"5\"], [\"value\", \"6\"], [\"value\", \"7\"], [\"value\", \"8\"], [\"value\", \"9\"], [\"value\", \"10\"], [\"value\", \"11\"], [\"value\", \"12\"], [\"type\", \"text\", \"placeholder\", \"\", \"readonly\", \"\", \"name\", \"payment_amount\", 1, \"form-control\", 3, \"value\"], [\"colspan\", \"2\", 2, \"text-align\", \"right\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 2, \"width\", \"150px\", \"margin-top\", \"10px\"], [2, \"width\", \"45%\", \"float\", \"left\"], [\"src\", \"/assets/images/payment.png\", 2, \"width\", \"100%\"]],\n    template: function PaymentComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-frontend-header\");\n        i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 2)(6, \"div\", 4)(7, \"p\", 5);\n        i0.ɵɵtext(8, \"Make Payment\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"form\", 6);\n        i0.ɵɵlistener(\"ngSubmit\", function PaymentComponent_Template_form_ngSubmit_9_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(10, \"div\", 7)(11, \"div\", 8)(12, \"div\", 9)(13, \"table\", 10)(14, \"tr\", 11)(15, \"td\", 12);\n        i0.ɵɵtext(16, \"Card Number\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"td\", 13);\n        i0.ɵɵelement(18, \"input\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"tr\", 11)(20, \"td\", 12);\n        i0.ɵɵtext(21, \"Name of Card\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"td\", 13);\n        i0.ɵɵelement(23, \"input\", 15);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(24, \"tr\", 11)(25, \"td\", 12);\n        i0.ɵɵtext(26, \"Select Card Type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"td\", 13)(28, \"select\", 16)(29, \"option\", 17);\n        i0.ɵɵtext(30, \"Card Type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"option\", 18);\n        i0.ɵɵtext(32, \"Master Card\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"option\", 19);\n        i0.ɵɵtext(34, \"Visa Card\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"option\", 20);\n        i0.ɵɵtext(36, \"Amex Card\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"option\", 21);\n        i0.ɵɵtext(38, \"Diner Club\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"option\", 22);\n        i0.ɵɵtext(40, \"Rupay\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtext(41, \"\\xA0\\xA0 \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(42, \"tr\", 11)(43, \"td\", 12);\n        i0.ɵɵtext(44, \"Expiry Year/Month\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"td\", 13)(46, \"select\", 23)(47, \"option\", 17);\n        i0.ɵɵtext(48, \"Year\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"option\", 24);\n        i0.ɵɵtext(50, \"2021\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"option\", 25);\n        i0.ɵɵtext(52, \"2022\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"option\", 26);\n        i0.ɵɵtext(54, \"2023\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(55, \"option\", 27);\n        i0.ɵɵtext(56, \"2024\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(57, \"option\", 28);\n        i0.ɵɵtext(58, \"2025\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtext(59, \"\\xA0\\xA0 \");\n        i0.ɵɵelementStart(60, \"select\", 23)(61, \"option\", 17);\n        i0.ɵɵtext(62, \"Month\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(63, \"option\", 29);\n        i0.ɵɵtext(64, \"January\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(65, \"option\", 30);\n        i0.ɵɵtext(66, \"February\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(67, \"option\", 31);\n        i0.ɵɵtext(68, \"March\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(69, \"option\", 32);\n        i0.ɵɵtext(70, \"April\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(71, \"option\", 33);\n        i0.ɵɵtext(72, \"May\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(73, \"option\", 34);\n        i0.ɵɵtext(74, \"June\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(75, \"option\", 35);\n        i0.ɵɵtext(76, \"July\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(77, \"option\", 36);\n        i0.ɵɵtext(78, \"August\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(79, \"option\", 37);\n        i0.ɵɵtext(80, \"September\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(81, \"option\", 38);\n        i0.ɵɵtext(82, \"October\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(83, \"option\", 39);\n        i0.ɵɵtext(84, \"November\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(85, \"option\", 40);\n        i0.ɵɵtext(86, \"December\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(87, \"tr\", 11)(88, \"td\", 12);\n        i0.ɵɵtext(89, \"Amount\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(90, \"td\", 13);\n        i0.ɵɵelement(91, \"input\", 41);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(92, \"tr\")(93, \"td\", 42)(94, \"button\", 43);\n        i0.ɵɵtext(95, \"Make Payment\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(96, \"\\xA0\\xA0 \");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(97, \"div\", 44);\n        i0.ɵɵelement(98, \"img\", 45);\n        i0.ɵɵelementEnd()()()()()()()()()();\n        i0.ɵɵelement(99, \"app-frontend-footer\");\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(91);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.totalCost);\n      }\n    },\n    directives: [i7.FrontendHeaderComponent, i8.NgControlStatusGroup, i8.NgForm, i8.NgSelectOption, i8.ɵNgSelectMultipleOption, i9.FrontendFooterComponent],\n    styles: [\"#login-home[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0 0 40px;padding:0;list-style:none}#login-home[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 0 10px;padding:15px;background-color:#035661;border-radius:10px}#login-home[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-weight:700}\"]\n  });\n  return PaymentComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}